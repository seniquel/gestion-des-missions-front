<i style='font-size:24px' class='fas' id="edit" (click)="open(content)">&#xf304;</i>
<!--Modal-->
<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Modification d'une nature de mission</h4>
  </div>
  <div class="modal-body">

    <div>
      <form (ngSubmit)="valider()" #monForm="ngForm">
        <div class="form-row">
          <div class="col">
            <label for="nature">Nature</label>
          </div>
          <div class="col">
            <input [(ngModel)]="nature.libelle" type="text" class="form-control" id="nature" name="libelle" required>
          </div>
        </div>

        <div class="form-row">
          <div class="col">
            <label for="facture">Facturée</label>
          </div>
          <div class="col">
            <select [(ngModel)]="nature.payee" class="form-control" id="facture" name="payee" required>
              <option value="">NON</option>
              <option value="true">OUI</option>
            </select>
          </div>
          <div *ngIf="nature.payee">
            <div class="col">
              <label for="facture">Taux journalier</label>
            </div>
            <div class="col">
              <input [(ngModel)]="nature.tjm" type="text" class="form-control" id="tjm" name="tjm" #tjm="ngModel"
                required>
              <p *ngIf="tjm.value < 0 " id="invalid">
                Le taux journalier doit être supérieur à 0.
              </p>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="col">
            <label for="prime">Versement prime</label>
          </div>
          <div class="col">
            <select [(ngModel)]="nature.versementPrime" class="form-control" id="prime" name="versementPrime" required>
              <option value="">NON</option>
              <option value="true">OUI</option>
            </select>
          </div>
          <div *ngIf="nature.versementPrime">
            <div class="col">
              <label for="pourcentagePrime">Pourcentage prime</label>
            </div>
            <div class="col">
              <input [(ngModel)]="nature.pourcentagePrime" type="text" class="form-control" id="pourcentagePrime"
                name="pourcentagePrime" #pourcentagePrime="ngModel" required>
              <p *ngIf="pourcentagePrime.value<0 || pourcentagePrime.value>10" id="invalid">
                Le pourcentage doit être comprise entre 0 et 10.
              </p>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="col">
            <label for="facture">Plafond de frais</label>
          </div>
          <div class="col">
            <input [(ngModel)]="nature.plafondFrais" type="text" class="form-control" id="plafondFrais"
              name="plafondFrais" required #plafond="ngModel">
            <p *ngIf="plafond.value < 0 " id="invalid">
              Le plafond de frais doit être supérieur à 0.
            </p>
          </div>
        </div>

        <div class="form-row">
          <div class="col">
            <label for="facture">Dépassement de frais</label>
          </div>
          <div class="col">
            <select [(ngModel)]="nature.depassementFrais" class="form-control" id="depassementFrais"
              name="depassementFrais" required>
              <option value="false">NON</option>
              <option value="true">OUI</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="col">
            <button class="btn btn-danger" (click)="close()" type="reset">Annuler</button>
          </div>
          <div class="col">
            <button class="btn btn-success" type="submit">Valider</button>
          </div>
        </div>

      </form>
    </div>
  </div>
  <div class="modal-footer"></div>
</ng-template>
